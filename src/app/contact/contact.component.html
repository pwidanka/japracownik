<div fxLayout="column">
    <div fxLayout="row" fxLayoutAlign="center center" class="app-container">
        <h1 class="app-title">KONTAKT</h1>
    </div>

    <div fxLayout="row" fxLayoutAlign="center">
        <div class="application-container" fxLayoutGap="20px">
            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-between center" class="contact-container">
                <!-- Left side with contact information -->
                <div fxFlex="45" fxFlex.lt-md="100" class="contact-info">
                    <h2 fxHide fxShow.gt-sm>Współpraca, problem, pomysł na udoskonalenie lub po prostu kontakt?</h2>
                    <h4 fxHide fxShow.lt-md>Współpraca, problem, pomysł na udoskonalenie lub po prostu kontakt?</h4>
                </div>

                <!-- Right side with contact form -->
                <div fxFlex="45" fxFlex.lt-md="100" class="contact-form">
                    <mat-card>
                        <mat-card-title>Formularz kontaktowy</mat-card-title>
                        <mat-card-content>
                            <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
                                <mat-form-field appearance="outline" subscriptSizing="dynamic">
                                    <mat-label>Imię i Nazwisko / Nazwa Firmy</mat-label>
                                    <input matInput formControlName="name" placeholder="Imię i Nazwisko">
                                    @if (contactForm.get('name')?.errors?.['required']) {
                                        <mat-error>
                                            To pole jest wymagane
                                        </mat-error>
                                    }
                                </mat-form-field>

                                <mat-form-field appearance="outline" subscriptSizing="dynamic">
                                    <mat-label>Temat</mat-label>
                                    <input matInput formControlName="subject" placeholder="Temat">
                                    @if (contactForm.get('subject')?.errors?.['required']) {
                                        <mat-error>
                                            To pole jest wymagane
                                        </mat-error>
                                    }
                                </mat-form-field>

                                <mat-form-field appearance="outline" subscriptSizing="dynamic">
                                    <mat-label>Email</mat-label>
                                    <input matInput formControlName="email" placeholder="Email">
                                    @if (contactForm.get('email')?.errors?.['required']) {
                                        <mat-error>
                                            To pole jest wymagane
                                        </mat-error>
                                    }
                                    @if (contactForm.get('email')?.errors?.['email']) {
                                        <mat-error>
                                            Nieprawidłowy format adresu email
                                        </mat-error>
                                    }
                                </mat-form-field>

                                <mat-form-field appearance="outline" subscriptSizing="dynamic">
                                    <mat-label>Wiadomość</mat-label>
                                    <textarea matInput formControlName="message" placeholder="Treść wiadomości" style="resize: none;"></textarea>
                                    @if (contactForm.get('message')?.errors?.['required']) {
                                        <mat-error>
                                            To pole jest wymagane
                                        </mat-error>
                                    }
                                </mat-form-field>

                                <mat-checkbox formControlName="acceptPolicy">
                                    Akceptuję warunki <a href="#/privacy-policy" target="_blank">Polityka Prywatności</a>*
                                </mat-checkbox>
                                @if (submittedPierwszyRaz && contactForm.get('acceptPolicy')?.errors?.['required']) {
                                    <mat-error>
                                        Musisz zaakceptować warunki polityki prywatności
                                    </mat-error>
                                }

                                <button mat-flat-button color="primary" type="submit" [disabled]="isSubmitting">
                                    {{ isSubmitting ? 'Wysyłanie...' : 'Wyślij Wiadomość' }}
                                </button>
                            </form>
                        </mat-card-content>
                    </mat-card>
                </div>
            </div>
        </div>
    </div>
</div>